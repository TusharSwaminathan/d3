<!DOCTYPE html>
<html>
  <head>
      <title>D3</title>
      <script src="./d3.min.js"></script>
  </head>
  <body>
        <div></div>
        <script>
           var data = [10,30,20,60,55,40,15]
           var height_val = Math.max(...data)
           var wid_val = (d,i) => {
               var totSum = data[i]
               data.map((x,xi) => { 
                if (i>xi)
                  totSum=totSum+(x*2)
               })
               return totSum
           }
           var mainDiv = d3.select("div").append("svg").attr("height","700").attr("width","700")
           var groupDiv = mainDiv.selectAll("g").data(data).enter().append("g")
           groupDiv.append("circle").attr("cx",wid_val).attr("cy",height_val).attr("r",(d)=>(d)).attr("fill","red")
           groupDiv.append("text").attr("x",(d,i) => wid_val(d,i)-10).attr("y",height_val+5).text((d)=>d).attr("fill","white")
        </script>
  </body>
</html>
</DOCTYPE>